---
title: "Protein_Set_Compare"
output: html_document
Author: "Samuel Slutz"
---

```{R}
library(readr)
closeAllConnections()
# this program looks at baseMeans generated from BLAST processing and compares the basemeans of two sets, it generates a file for shared an unique values
#all naming conventions here and files can be switched out, you could probably use this to compare other types of genetic data just as well
indv1 <- read_lines("BlAST-Exploration/Data/Only_Infected_or_not_basecodes.txt", skip = 0, skip_empty_rows = TRUE, n_max = Inf, locale = default_locale(), na = character(), lazy = should_read_lazy(), num_threads = 12, progress = show_progress())
indv2 <- read_lines("BlAST-Exploration/Data/Derm_augustus_basecodes.txt", skip = 0, skip_empty_rows = TRUE, n_max = Inf, locale = default_locale(), na = character(), lazy = should_read_lazy(), num_threads = 12, progress = show_progress())
shared<- character()
shared_file <- file.create("BlAST-Exploration/Output/proteins_only_in_DI_when_infected_w_vibrios.txt")
unique <- character()
unique_file <- file.create("BlAST-Exploration/Output/other_ignorable")
stopper <- length(indv2)
for(prot1 in indv1){
  #outer loop moving through base means for indv1 (first file)
  count <- 1
  while(count <= stopper){
    #inner loop makes program search for matching base means in indv2 (second file)
    protein2 <- substring(indv2[count],1, nchar(prot1))
    if(protein2 == prot1){
      shared <- append(indv2[count],shared)
      count <- stopper
    }else if(count == stopper){
      unique <- append(prot1, unique)
    }
    count <- count + 1
  }

}
#sinks output to file for unique
sink(file ="BlAST-Exploration/Output/other_ignorable" , append = TRUE, type = "output" )
for(x in unique){
  cat(x, file ="BlAST-Exploration/Output/other_ignorable", sep = "\n", fill = TRUE, append = TRUE)
}
sink(file = "BlAST-Exploration/Output/proteins_only_in_DI_when_infected_w_vibrios.txt", append = TRUE, type = "output")
for(y in shared){
  cat(y, file = "BlAST-Exploration/Output/proteins_only_in_DI_when_infected_w_vibrios.txt", sep = "\n", fill = TRUE, append = TRUE)
  
}
closeAllconnections()
```

